{"version":3,"sources":["component/Header.tsx","utils/api.ts","component/SearchResultList.tsx","pages/TopMenu.tsx","pages/Page1/InputComponent.tsx","pages/Page1/Page1.tsx","pages/Page2/page2Reducer.tsx","pages/Page2/InputComponent2.tsx","utils/SiteContext.tsx","pages/Page2/Page2.tsx","App.tsx","index.tsx"],"names":["Header","pageName","userId","userName","SVC","request","path","a","config","axios","get","response","data","getSearchResults","arg","key","postPage1","postData","post","postPage2","SearchResultList","props","results","map","res","id","TopMenu","useState","inputVal","setInputVal","searchResult","setSearchResult","handleClick","jsonResult","style","margin","padding","backgroundColor","border","value","onChange","e","target","onKeyPress","preventDefault","type","onClick","to","InputComponent1","title","message","checked","setChecked","handleChange","name","rdoNm","htmlFor","InputComponent2","inputText","setInputText","handleRadioChange","Page1","inputData","setInputData","prevState","handleSubmit","console","log","status","statusText","onSubmit","initialState","reducer","state","action","Page2Context","React","createContext","Page2ContextProvider","children","useReducer","dispatch","Provider","useContext","strValue","numValue","SiteContext","ContextProvider","Page2Form","siteDispatch","useEffect","Page2","App","className","exact","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3c049369.chunk.js","sourcesContent":["import React from 'react';\nimport { SiteContextDataType } from '../utils/SiteContext';\n\nconst Header: React.FC<SiteContextDataType> =\n  ({ pageName, userId, userName }) => <h2>{pageName}:{userId}:{userName}</h2>;\n\nexport default Header;\n","import axios from 'axios';\n\nconst SERVICE_NAME = 'express-tsnode-react';\nconst SVC = `/${SERVICE_NAME}/api/v1`\n\nasync function request<T = any>( path: string, config={} ){\n    // const url = `${process.env.REACT_APP_API_ORIGIN}${path}`;\n    const response = await axios.get<T>(path, config);\n    return response.data;\n}\n\n\nexport async function getSearchResults(arg: any = {}){\n    return request(`${SVC}/search?key=${arg.key}`);\n}\n\nexport async function postPage1( postData: { [index: string]: string}) {\n    const response = await axios.post(`${SVC}/page1`, postData);\n    return response;\n}\n\nexport async function postPage2( postData: { [index: string]: string}) {\n    const response = await axios.post(`${SVC}/page2`, postData);\n    return response;\n}\n\nexport async function postPage3( postData: { [index: string]: string}) {\n    const response = await axios.post(`${SVC}/page3`, postData);\n    return response;\n}\n","import React from 'react';\n\nconst SearchResultList: React.FC<any> = (props) => {\n  const { results } = props;\n  return (\n    <>\n      <div>SearchResultList</div>\n      <ul>\n        {results.map((res: any)=> <li key={res.id}>{res.data}</li>) }\n      </ul>\n    </>);\n};\n\nexport default SearchResultList;\n","import React, { useState } from 'react';\nimport { Link } from \"react-router-dom\";\nimport { getSearchResults } from \"../utils/api\";\nimport SearchResultList from \"../component/SearchResultList\"\n\n\nconst TopMenu: React.FC = () => {\n    const [inputVal, setInputVal] = useState('');\n    const [searchResult, setSearchResult] = useState<any[]>([]);\n\n    const handleChange: React.ChangeEventHandler<HTMLInputElement> = (e) => {\n      setInputVal(e.target.value);\n    }\n\n    const handleClick: React.ReactEventHandler = async() => {\n      const jsonResult = await getSearchResults({key: inputVal});\n      setSearchResult(jsonResult);\n    }\n\n    return (\n      <>\n        <h3>TopMenu</h3>\n\n        <div style={ {margin:\"1vw\", padding:\"1vw\", backgroundColor:\"#DDE\"} }>\n          <div style={ {border:\"1px solid #AAA\"} } >\n            <p>検索サンプル バックエンドからjsonでデータを受け取り表示する。バックエンド側では、テキストボックスの値をlikeで検索した結果を返す<br />\n            現時点ではダミーデータに対して検索結果を返す実装としている（1や2を入力して検索）</p>\n            <input value={inputVal} onChange={handleChange} onKeyPress={(e)=>{ if(e.key === \"Enter\") {e.preventDefault();handleClick(e);}}} />\n            <button type=\"button\" onClick={handleClick}>検索</button>\n            <SearchResultList results={searchResult} />\n          </div>\n          <div>\n            <p><Link to=\"/Page1\"><button type=\"button\">Page1</button></Link> サンプル１：関数コンポーネント＋Hookでフォーム入力データをPostするサンプル</p>\n            <p><Link to=\"/Page2\"><button type=\"button\">Page2</button></Link> サンプル２：上記に加え、useContextでデータ保持してPost(Reduxは未使用)</p>\n          </div>\n          <p>\n            ■実装済み<br />\n            ・ラジオボタン選択による表示切り替え <br />\n            ・入力値をstateもしくはcontextへの更新 <br />\n            ・バックエンドへのPOST(axios利用) <br />\n            ・sequelize(ORマッパー)を利用したデータInsert処理<br />\n            <br />\n            ■未実装<br />\n            ・URLにidをつけて表示した場合、その値で画面を表示し、更新を行う [/Page1/:id] <br />\n            ・入力チェック <br />\n            ・POST前の確認ダイアログ <br />\n          </p>\n        </div>\n      </>\n    )\n  }\n\n  export default TopMenu;\n","import React, { useState } from 'react';\n\nexport type InputPropsType = {\n  id:string,\n  title: string,\n  message:string,\n  // handleChange: (e: {name:string, value: string, e?: React.ChangeEvent<HTMLInputElement>}) => void\n  handleChange: (e: { [index:string]: string }) => void\n}\n\nexport const InputComponent1: React.FC<InputPropsType> = (props) => {\n  const { id, title, message } = props;\n  const [checked, setChecked] = useState(true);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement> ) =>{\n    setChecked(e.target.value === '1');\n    props.handleChange({ [e.target.name]: e.target.value });\n  }\n\n  const rdoNm = `select_${id}`;\n\n  return (\n    <div style={{padding:\"10px\"}}>\n      <h3>{title}</h3>\n      <div>\n        <label htmlFor={`${rdoNm}`}>\n          <input type=\"radio\" id={`${rdoNm}1`} name={rdoNm} value=\"1\" onChange={ handleChange } />はい\n        </label> <br />\n        <label htmlFor={`${rdoNm}0`}>\n          <input type=\"radio\" id={`${rdoNm}0`} name={rdoNm} value=\"0\" onChange={ handleChange } />いいえ\n        </label>\n        { checked ? ('') : (<> {message}</>) }\n      </div>\n    </div>\n  );\n}\n\nexport const InputComponent2: React.FC<InputPropsType> = (props) => {\n  const { id, title } = props;\n  const [checked, setChecked] = useState(true);\n  const [inputText, setInputText] = useState('');\n\n  const handleRadioChange = (e: React.ChangeEvent<HTMLInputElement> ) =>{\n    setChecked(e.target.value === '1');\n    if(e.target.value === '1'){\n      setInputText('');\n      props.handleChange({ [e.target.name]: e.target.value, [`text_${props.id}`]: '' });\n    } else{\n      props.handleChange({ [e.target.name]: e.target.value });\n    }\n  }\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement> ) =>{\n    setInputText(e.target.value);\n    props.handleChange({ [e.target.name]: e.target.value });\n  }\n\n  const rdoNm = `select_${id}`;\n\n  return (\n    <div style={{padding:\"10px\"}}>\n      <h3>{title}</h3>\n      <div>\n        <label htmlFor={`${rdoNm}1`}>\n          <input type=\"radio\" id={`${rdoNm}1`} name={rdoNm} value=\"1\" onChange={handleRadioChange} />はい\n        </label> <br />\n        <label htmlFor={`${rdoNm}0`}>\n          <input type=\"radio\" id={`${rdoNm}0`} name={rdoNm} value=\"0\" onChange={handleRadioChange} />いいえ\n        </label>\n        { checked ? ('') : (<input type=\"text\" name={`text_${id}`} onChange={handleInputChange} value={inputText} />) }\n      </div>\n    </div>\n  );\n};\n","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { InputComponent1, InputComponent2 } from './InputComponent';\nimport { postPage1 } from '../../utils/api';\n\n\n/**\n * ・フォーム全体の入力値(inputData)は、Page1が保持する\n * ・入力コンポーネントには、変更用コールバック(handleChange)を渡し、値変更時にコールバックして書き換える。\n * ・ページとコンポーネントの階層が深くない場合これでも良いが、深くなるとpropsで子、孫と順次コールバック関数を引き渡すことになり\n *   コンポーネントの独立性が失われてしまう\n */\n const Page1: React.FC = ()=> {\n  const [inputData, setInputData] = useState({});\n  const handleChange = (e: { [index:string]: string }) => {\n    // stateを入力データとマージする\n    setInputData((prevState) => (\n      {\n        ...prevState,\n        ...e,\n      })\n    );\n  };\n\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    console.log(inputData);\n    // alert(JSON.stringify(inputData, null , '\\t'));\n\n    // バックエンドへ送信\n    const response = await postPage1(inputData);\n    if( response.status !== 200 ){\n      console.log(response.statusText);\n    }\n  };\n\n    return (\n      <>\n        <h3>Page1</h3>\n        <ul>\n            <li><Link to=\"/\">TopMenu</Link></li>\n        </ul>\n        <form onSubmit={ handleSubmit }>\n          <InputComponent1 id=\"id1\" title=\"title1\" message=\"message1\" handleChange={handleChange} />\n          <InputComponent1 id=\"id2\" title=\"title2\" message=\"message2\" handleChange={handleChange} />\n          <InputComponent2 id=\"id3\" title=\"title3\" message=\"message3\" handleChange={handleChange} />\n          <InputComponent2 id=\"id4\" title=\"title4\" message=\"message4\" handleChange={handleChange} />\n          <p>\n            <input type=\"submit\" value=\"登録\" />\n          </p>\n        </form>\n        <br />\n * ・フォーム全体の入力値(inputData)は、Page1が保持する<br />\n * ・入力コンポーネントには、変更用コールバック(handleChange)を渡し、値変更時にコールバックして書き換える。<br />\n * ・ページとコンポーネントの階層が深くない場合これでも良いが、深くなるとpropsで子、孫と順次コールバック関数を引き渡すことになり<br />\n *   コンポーネントの独立性が失われてしまう<br />\n      </>\n    );\n};\n\nexport default Page1;\n","import React, { useReducer } from 'react';\n\nexport type Action ={ type: 'CHANGE_VALUE' | 'CLEAR_VALUE', name: string, value: string }\nexport type InputDataType = {[index:string]: string};\n\nconst initialState: InputDataType = {}\n\nconst reducer = (state:InputDataType,  action: Action) => {\n  switch (action.type) {\n    case 'CHANGE_VALUE':\n      return {\n        ...state,\n        [action.name]: action.value,\n      };\n      case 'CLEAR_VALUE':\n        return {\n          ...state,\n          [action.name]: '',\n        };\n    default:\n      return state\n  }\n}\n\nexport const Page2Context = React.createContext({} as {\n  state: InputDataType\n  dispatch: React.Dispatch<Action>\n});\n\nexport const Page2ContextProvider: React.FC = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, initialState)\n  return <Page2Context.Provider value={{state, dispatch}}>\n    {children}\n  </Page2Context.Provider>\n}\n","import React, { useState, useContext } from 'react';\nimport { Page2Context } from './page2Reducer';\n\nexport type InputPropsType = {\n  id:string,\n  title: string,\n  message:string,\n}\n\nexport const InputComponent1: React.FC<InputPropsType> = ({ id, title, message }) => {\n  const [checked, setChecked] = useState(true);\n  const { dispatch } = useContext(Page2Context);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement> ) =>{\n    setChecked(e.target.value === '1');\n    dispatch ({ type: 'CHANGE_VALUE', name: e.target.name, value: e.target.value });\n  };\n\n  const rdoNm = `select_${id}`;\n\n  return (\n    <div style={{padding:\"10px\"}}>\n      <h3>{title}</h3>\n      <div>\n        <label htmlFor={`${rdoNm}1`}>\n          <input type=\"radio\" id={`${rdoNm}1`} name={rdoNm} value=\"1\" onChange={ handleChange } />はい\n        </label> <br />\n        <label htmlFor={`${rdoNm}0`}>\n          <input type=\"radio\" id={`${rdoNm}0`} name={rdoNm} value=\"0\" onChange={ handleChange } />いいえ\n        </label>\n        { checked ? ('') : (<> {message}</>) }\n      </div>\n    </div>\n  );\n};\n\n/**\n *\n * @param props\n */\nexport const InputComponent2: React.FC<InputPropsType> = ({ id, title }) => {\n  const [checked, setChecked] = useState(true);\n  const [inputText, setInputText] = useState('');\n  const { dispatch } = useContext(Page2Context);\n\n  const handleRadioChange = (e: React.ChangeEvent<HTMLInputElement> ) =>{\n    setChecked(e.target.value === '1');\n    dispatch ({ type: 'CHANGE_VALUE', name: e.target.name, value: e.target.value });\n    if(e.target.value === '1'){\n      setInputText('');\n      dispatch ({ type: 'CLEAR_VALUE',  name: `text_${id}`, value: '' });\n    }\n  };\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement> ) =>{\n    setInputText(e.target.value);\n    dispatch ({ type: 'CHANGE_VALUE', name: e.target.name, value: e.target.value });\n  };\n\n  const rdoNm = `select_${id}`;\n\n  return (\n    <div style={{padding:\"10px\"}}>\n      <h3>{title}</h3>\n      <div>\n          <label htmlFor={`${rdoNm}1`}>\n            <input type=\"radio\" id={`${rdoNm}1`} name={rdoNm} value=\"1\" onChange={ handleRadioChange } />はい\n          </label> <br />\n          <label htmlFor={`${rdoNm}0`}>\n            <input type=\"radio\" id={`${rdoNm}0`} name={rdoNm} value=\"0\" onChange={ handleRadioChange } />いいえ\n          </label>\n          { checked ? ('') : (<input type=\"text\" name={`text_${id}`} onChange={handleInputChange} value={inputText} />) }\n      </div>\n    </div>\n  );\n};\n","import React , { useReducer } from 'react';\n\nexport type Action ={ type: 'CHANGE_PAGE_NAME' | 'CHANGE_USER' , strValue: string, numValue: number }\nexport type SiteContextDataType = {\n  pageName: string,\n  userId: number,\n  userName: string,\n};\n\nconst initialState: SiteContextDataType = {\n  pageName: \"\",\n  userId: 123,\n  userName: \"user123\",\n}\n\nfunction reducer(state:SiteContextDataType,  action: Action) {\n  switch (action.type) {\n    case 'CHANGE_PAGE_NAME':\n      return {\n        ...state,\n        pageName: action.strValue,\n      };\n    case 'CHANGE_USER':\n      return {\n        ...state,\n        userId: action.numValue,\n        userName: action.strValue,\n      };\n    default:\n      return state\n  }\n}\n\nexport const SiteContext = React.createContext({} as {\n  state: SiteContextDataType\n  dispatch: React.Dispatch<Action>\n});\n\nexport const ContextProvider: React.FC = (props) => {\n  const [state, dispatch] = useReducer(reducer, initialState)\n  return <SiteContext.Provider value={{state, dispatch}}>\n    {/* eslint-disable-next-line react/destructuring-assignment */}\n    {props.children}\n  </SiteContext.Provider>\n}\n","import { Link } from 'react-router-dom';\nimport React , {useEffect, useContext} from 'react';\nimport { Page2ContextProvider, Page2Context } from './page2Reducer'\nimport { InputComponent1, InputComponent2 } from './InputComponent2';\nimport { SiteContext } from '../../utils/SiteContext';\nimport { postPage2 } from '../../utils/api';\n\n/**\n * ・フォーム全体の入力値(inputData)は、Page1が保持する。\n * ・useContextフックを使うことで、propsにコールバックを引き渡す必要はない。\n * ・ページとコンポーネントの階層が深くなる場合でも複雑化しない。\n */\nconst Page2: React.FC = ()=>\n (\n    <>\n      <h3>Page2</h3>\n      <ul>\n        <li><Link to=\"/\">TopMenu</Link></li>\n      </ul>\n      <Page2ContextProvider>\n        <Page2Form />\n      </Page2ContextProvider>\n    </>\n  );\n\n/**\n * contextを利用するためにはコンポーネントをProvider内部に配置する必要があるため、\n * Formを切り出してContextを利用する\n */\nconst Page2Form: React.FC = ()=> {\n  const { state, dispatch } = useContext(Page2Context);\n  const { dispatch: siteDispatch } = useContext(SiteContext);\n  useEffect( () => {\n    siteDispatch({ type: 'CHANGE_PAGE_NAME', strValue: 'Page2', numValue: 0 });\n  },[]);\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    console.log(state);\n    // alert(JSON.stringify(state, null, '\\t'));\n\n    // バックエンドへ送信\n    const response = await postPage2(state);\n    if (response.status !== 200) {\n      console.log(response.statusText);\n    }\n  }\n\n  return (\n    <>\n      <form onSubmit={handleSubmit}>\n        <InputComponent1 id=\"id1\" title=\"title1\" message=\"message1\" />\n        <InputComponent1 id=\"id2\" title=\"title2\" message=\"message2\" />\n        <InputComponent2 id=\"id3\" title=\"title3\" message=\"message3\" />\n        <InputComponent2 id=\"id4\" title=\"title4\" message=\"message4\" />\n        <p>\n          <input type=\"submit\" value=\"登録\" />\n        </p>\n      </form>\n      <br />\n * ・フォーム全体の入力値(inputData)は、Page1が保持する。<br />\n * ・useContextフックを使うことで、propsにコールバックを引き渡す必要はない。<br />\n * ・ページとコンポーネントの階層が深くなる場合でも複雑化しない。<br />\n    </>\n  )\n}\n\nexport default Page2;\n","import React , { useContext } from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport Header from './component/Header';\nimport TopMenu from './pages/TopMenu';\nimport Page1 from './pages/Page1/Page1';\nimport Page2 from './pages/Page2/Page2';\nimport { SiteContext } from './utils/SiteContext';\nimport './App.css';\n\nconst App: React.FC = () => {\n  const { state } = useContext(SiteContext);\n  return (\n    <Router>\n      <div className=\"App\">\n        {/* eslint-disable-next-line react/jsx-props-no-spreading */}\n        <Header {...state} />\n        <div className=\"main-container\">\n          <main className=\"content\">\n            <Switch>\n              <Route path=\"/\" exact component={TopMenu} />\n              <Route path=\"/page1\" component={Page1} />\n              <Route path=\"/page2\" component={Page2} />\n            </Switch>\n          </main>\n          <nav className=\"side-nav\">nav</nav>\n          <aside className=\"side-bar\">side</aside>\n        </div>\n        <footer><h3>footer</h3></footer>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { ContextProvider } from './utils/SiteContext';\n\nReactDOM.render(\n  <React.StrictMode>\n    <ContextProvider>\n        <App />\n    </ContextProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}